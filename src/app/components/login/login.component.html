<section class="my-3 p-3">
  <h2 class="h4">{{'login.Login' |translate}}:</h2>

  <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">
    <div class="my-2">
      <label for="email">{{'login.email.email'|translate}}:</label>
      <input
        [ngClass]="{
          isValid:
            !loginForm.get('email')?.errors && !loginForm.get('email')?.touched,
          'is-invalid':
            loginForm.get('email')?.errors && loginForm.get('email')?.touched
        }"
        type="email"
        class="form-control"
        id="email"
        formControlName="email"
      />

      @if( loginForm.get('email')?.errors && loginForm.get('email')?.touched){
      <div class="alert w-50 alert-danger mt-1">
        @if (loginForm.get('email')?.getError('required')) {
        <p class="m-0">{{'login.email.required'|translate}}</p>
        } @else if (loginForm.get('email')?.getError('email')) {
        <p class="m-0">{{'login.email.invalid'|translate}}</p>
        }
      </div>
      }
    </div>

    <div class="my-2">
      <label for="password">{{'login.password.password' |translate}}:</label>
      <input
        [ngClass]="{
          isValid:
            !loginForm.get('password')?.errors &&
            !loginForm.get('password')?.touched,
          'is-invalid':
            loginForm.get('password')?.errors &&
            loginForm.get('password')?.touched
        }"
        type="password"
        class="form-control"
        id="password"
        formControlName="password"
      />

      @if( loginForm.get('password')?.errors &&
      loginForm.get('password')?.touched){
      <div class="alert w-50 alert-danger mt-1">
        @if (loginForm.get('password')?.getError('required')) {
        <p class="m-0">{{'login.password.required'|translate}}</p>
        } @else if (loginForm.get('password')?.getError('pattern')) {
        <p class="m-0">{{'login.password.invalid' |translate}}</p>
        }
      </div>

      }
    </div>

    <div class="d-flex align-items-center justify-content-end">
      <a routerLink="/forgetPassword" class="link-primary me-3"
        >{{'login.forgetPassword'|translate}}</a
      >
      <button type="submit" class="btn btn-main d-block">
        {{'login.loginButton'|translate}} 
      </button>
    </div>

    @if (msgSuccess) {
    <p class="alert alert-success text-center">{{'login.successMessage'|translate}}</p>
    }
  </form>
</section>
